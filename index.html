<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MockeX Proxy Dashboard</title>
  <style>
    body { background:#111; color:#0f0; font-family:monospace; text-align:center; }
    .box { margin:20px; padding:20px; border:1px solid #0f0; display:inline-block; }
    button { background:#0f0; color:#111; padding:10px 20px; border:none; cursor:pointer; }
  </style>
</head>
<body>
  <h1>☠️ MockeX Proxy Dashboard ☠️</h1>
  <div class="box" id="proxyBox">Proxy: Not Active</div><br>
  <button onclick="activateProxy()">Activate Proxy</button>

  <div class="box" id="statusBox">Status: Waiting...</div>

  <script>
    async function activateProxy() {
      let res = await fetch("https://your-backend-url/get-proxy");
      let data = await res.json();
      document.getElementById("proxyBox").innerText =
        `Proxy IP: ${data.proxyIP} | Port: ${data.proxyPort}`;
      checkStatus();
    }

    async function checkStatus() {
      setInterval(async () => {
        let res = await fetch("https://your-backend-url/status");
        let data = await res.json();
        document.getElementById("statusBox").innerText =
          `FF Player: ${data.ffPlayer}\nProxy: ${data.proxy ? data.proxy.ip+":"+data.proxy.port : "None"}`;
      }, 2000);
    }
  </script>
</body>
</html>
document.getElementById('connectBtn').addEventListener('click', async () => {
    const ip = document.getElementById('ipInput').value;
    const port = parseInt(document.getElementById('portInput').value);
    const res = await fetch(`${backendURL}/connect`, {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ ip, port })
    });
    const data = await res.json();
    alert(data.status || data.error);
    updateStatus();
});

async function updateStatus(){
    const res = await fetch(`${backendURL}/status`);
    const data = await res.json();
    let content = `Proxy IP: ${data.proxy_ip}\nProxy Port: ${data.proxy_port}\n\nConnected Clients:\n`;
    data.clients.forEach(c => {
        content += `- ${c.ip}:${c.port}\n`;
    });
    document.getElementById('statusBox').innerText = content;
}

setInterval(updateStatus, 5000);
</script>
</body>
</html>    displayBox.textContent = content;
}

// Auto refresh every 5 seconds
setInterval(updateDisplay, 5000);
</script>
</body>
</html>
